# SaaS
## 概念
SaaS(Software As A Service)通常指软件开发商开发基于网络的软件应用，且安装运营，通过互联网让客户使用，客户并不为软件本身而只为使用软件付费，一种新的商业模式。
前身叫ASP，应用出租，后经过IBM打磨包装成了一个新概念
## 优点
降低企业的TCO(总体拥有成本)
降低信息化给企业带来的风险。
## 三大要素
### 可配置(Configurable)
使用元数据来为其终端用户配置系统的界面以及相关的交互行为。确保用户配置应用的过程本身是简单且易于为用户所直接理解，并使用的，除此之外无需考虑付出任何额外的开发和维护成本。
### 可伸缩(Scalable)
最大可能，程度的提高系统并发性，更有效的使用系统资源。

```
无状态进程；资源池共享；缓存；数据分区blabla
```
### 多租户(Multi-Tenant)
支持在多用户间最大程度的共享资源的同时，严格区分和隔离属于不同用户的数据。
## 成熟度
### level1：定制
类似ASP(Application Service Provider);

软件服务提供商为每个客户定制，部署一个实例；该单独实例运行在SaaS服务提供商的硬件上。

就系统架构而言，与本地安装软件非常相似，每个客户使用独立的数据库实例，应用服务器实例。数据库中的数据结构和应用代码可根据客户需求进行客户化定制开发。

### level2：可配置

在一定范围内，通过不同的配置满足不同客户的需求，而不是客户化定制开发，以降低定制开发的成本。

软件的部署架构变化不大，与level1比差别在于多个用户部署的是同一套代码

将所有的客户的应用实例鸡枞与同一代码库之下，将极大地减少SaaS服务提供商的服务需求

```
ps：这种业务伸缩性一般来说是通过元数据及配置服务来实现
凡事要看到两方面：维护成本呢降低了，也意味着一处变更导致的错误会影响到所有的用户
```
### level3：多租户（单例）

多租户单实例(Multi-Tenant)的应用架构才是通常意义上的SaaS应用架构，可以有效的降低SaaS应用的硬件级运行维护成本，最大化的发挥规模效应。（一次开发，一次部署）

服务提供商通过运行一个应用实例来为所有的客户服务，同事可以通过配置的元数据来给每一个客户提供不同的用户体验和功能。可配置的权限控制和安全策略，保障每个客户的数据被单独存储，并互相隔离。(用户感受不到其使用的应用实例也在同一时间为其他客户锁共享)

该level解决了服务提供商简单的通过提供更多的服务器资源来运行更多的应用实例达到运营规模扩张的问题，提高硬件资源利用率，降低运营成本。

不利之处在于无法灵活的提升系统性能，(数据分区啥的是一个点，但不是一个整体的提升)
### level4：多租户（多例）

将level3的Multi-Tenant SingleInstance扩展为Multi-Tenant MultiInstance。最终用户通过接入Tenant Load Balance层，被分配到不同的instance上。通过多个instance来分担大量用户的访问，以此来实现近似无限的水平扩展。

最复杂的就是针对原有单个Instance的数据库服务器，实现数据的水平拆分。
